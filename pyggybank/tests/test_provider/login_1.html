<html>
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
   integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
</head>
<body class="container">

<div id="contents">
  <p class="lead">
    This page is the simplest of login forms, it simply tests against the
    desired password, and if successful continues to the next page.
  </p>

  <form action="#" id="main" onsubmit="javascript: return validate();">
    <input id="page_n" type="hidden" name="page_n" value="">

    <div class="form-group row">
      <label class="form-control-label col-sm-2" for="inputWarning1">Input with warning</label>
      <input type="text" class="form-control col-sm-10 form-control-danger" name="pass">
      <div class="form-control-feedback col-sm-12"></div>
      <small class="form-text text-muted col-sm-12">Example help text that remains unchanged.</small>
    </div>

  Click this button to authenticate <input class="btn btn-primary" type="submit" value="Login">
  <a href="javascript: validate();">ads</a>
  </form>
</div>

<script>
page_name = 'login_1';

function validate() {
  return_val = true;
  config = page_config(page_n());
  if (!config) {
    // Error?
    window.location.href = "start.html";
    return false
  }
  console.log('config', config)
  pass_elem = $(':input[name=pass]');
  pass_group = pass_elem.parent();
  feedback_elem = pass_group.find('.form-control-feedback');
  if ($(':input[name=pass]').val() != config['pass']) {
    console.log(false);
    pass_group.addClass('has-danger')
    feedback_elem.text('Incorrect value (expecting "' + config['pass'] + '")')
    return_val = false;
    console.log(return_val);
  } else {
    pass_group.removeClass('has-danger');
    feedback_elem.empty();
  }
  if (return_val) {
    $('#main').attr('action', next_page());
  }
  return return_val;
}
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"
 integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
 integrity="sha256-gL1ibrbVcRIHKlCO5OXOPC/lZz/gpdApgQAzskqqXp8=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
 integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
 <script src="driver.js"></script>

</body>
</html>
